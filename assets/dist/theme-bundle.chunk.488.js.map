{"version":3,"file":"theme-bundle.chunk.488.js","mappings":"6KAcA,SAASA,EAAiBC,EAASC,EAAOC,GACf,IAAnBF,EAAQG,QACHF,EAAMG,GAAG,YACVH,EAAMI,SAAS,QAEnBJ,EAAMK,KAAK,OAAWJ,EAAKK,QAAO,IAAIP,EAAQQ,KAAK,MACnDP,EAAMQ,KAAK,kBAAkBC,KAAKV,EAAQG,SAE1CF,EAAMU,YAAY,OAE1B,CAEe,SAAS,EAATC,GAAsC,IAA1BC,EAAgBD,EAAhBC,iBAAkBX,EAAIU,EAAJV,KACrCY,EAAiB,GAEfC,EAAeC,EAAE,uBAEvBA,EAAE,QAAQC,GAAG,eAAgB,WACzB,IAAMC,EAAWF,EAAE,QAAQP,KAAK,oCAGhCV,EADAe,EAAiBI,EAASf,OAASe,EAASC,IAAI,SAACC,EAAOC,GAAO,OAAKA,EAAQC,KAAK,GAAEC,MAAQ,GAC1DR,EAAcb,EACnD,GAEAc,EAAE,QAAQQ,eAAe,gBAEzBR,EAAE,QAAQC,GAAG,QAAS,oBAAqB,SAAAQ,GACvC,IA/B2BC,EA+BrBC,EAAUF,EAAMG,cAAcN,MAC9BO,EAAsBb,EAAE,uBAE1BS,EAAMG,cAAcE,SAlCGJ,EAmCUC,EAAhBb,EAlCjBiB,KAAKL,IATjB,SAA0B1B,EAAS0B,GAC/B,IAAMN,EAAQpB,EAAQgC,QAAQN,GAE1BN,GAAS,GACTpB,EAAQiC,OAAOb,EAAO,EAE9B,CAuCYc,CAAiBpB,EAAgBa,GAGrC5B,EAAiBe,EAAgBe,EAAqB3B,EAC1D,GAEAc,EAAE,QAAQC,GAAG,QAAS,sBAAuB,WAGzC,GAF6BD,EAAE,QAAQP,KAAK,oCAEnBN,QAAU,EAE/B,OADAgC,EAAAA,EAAAA,IAAetB,IACR,CAEf,EACJ,C,yNC3DwD,IAEnCuB,EAAO,SAAAC,GAAA,SAAAD,IAAA,OAAAC,EAAAC,MAAA,KAAAC,YAAA,K,QAYvB,O,EAZuBF,G,EAAAD,G,sEAAAA,EAAAI,UACxBC,QAAA,WAAU,IAAAC,EAAA,MACNC,EAAAA,EAAAA,GAAgBC,KAAKC,SAErB,IAAMC,EAAUF,KAAKC,QAAQE,qBAE7B/B,EAAE,QAAQC,GAAG,QAAS,2BAA4B,SAAAQ,GAC1CiB,EAAKG,QAAQG,YAAY7C,QAAU,KACnCgC,EAAAA,EAAAA,IAAeW,GACfrB,EAAMwB,iBAEd,EACJ,EAACb,CAAA,CAZuB,CAASc,EAAAA,E","sources":["webpack://bigcommerce-cornerstone/./assets/js/theme/global/compare-products.js","webpack://bigcommerce-cornerstone/./assets/js/theme/compare.js"],"sourcesContent":["import { showAlertModal } from './modal';\r\n\r\nfunction decrementCounter(counter, item) {\r\n    const index = counter.indexOf(item);\r\n\r\n    if (index > -1) {\r\n        counter.splice(index, 1);\r\n    }\r\n}\r\n\r\nfunction incrementCounter(counter, item) {\r\n    counter.push(item);\r\n}\r\n\r\nfunction updateCounterNav(counter, $link, urls) {\r\n    if (counter.length !== 0) {\r\n        if (!$link.is('visible')) {\r\n            $link.addClass('show');\r\n        }\r\n        $link.attr('href', `${urls.compare}/${counter.join('/')}`);\r\n        $link.find('span.countPill').html(counter.length);\r\n    } else {\r\n        $link.removeClass('show');\r\n    }\r\n}\r\n\r\nexport default function ({ noCompareMessage, urls }) {\r\n    let compareCounter = [];\r\n\r\n    const $compareLink = $('a[data-compare-nav]');\r\n\r\n    $('body').on('compareReset', () => {\r\n        const $checked = $('body').find('input[name=\"products\\[\\]\"]:checked');\r\n\r\n        compareCounter = $checked.length ? $checked.map((index, element) => element.value).get() : [];\r\n        updateCounterNav(compareCounter, $compareLink, urls);\r\n    });\r\n\r\n    $('body').triggerHandler('compareReset');\r\n\r\n    $('body').on('click', '[data-compare-id]', event => {\r\n        const product = event.currentTarget.value;\r\n        const $clickedCompareLink = $('a[data-compare-nav]');\r\n\r\n        if (event.currentTarget.checked) {\r\n            incrementCounter(compareCounter, product);\r\n        } else {\r\n            decrementCounter(compareCounter, product);\r\n        }\r\n\r\n        updateCounterNav(compareCounter, $clickedCompareLink, urls);\r\n    });\r\n\r\n    $('body').on('click', 'a[data-compare-nav]', () => {\r\n        const $clickedCheckedInput = $('body').find('input[name=\"products\\[\\]\"]:checked');\r\n\r\n        if ($clickedCheckedInput.length <= 1) {\r\n            showAlertModal(noCompareMessage);\r\n            return false;\r\n        }\r\n    });\r\n}\r\n","import PageManager from './page-manager';\r\nimport { showAlertModal } from './global/modal';\r\nimport compareProducts from './global/compare-products';\r\n\r\nexport default class Compare extends PageManager {\r\n    onReady() {\r\n        compareProducts(this.context);\r\n\r\n        const message = this.context.compareRemoveMessage;\r\n\r\n        $('body').on('click', '[data-comparison-remove]', event => {\r\n            if (this.context.comparisons.length <= 2) {\r\n                showAlertModal(message);\r\n                event.preventDefault();\r\n            }\r\n        });\r\n    }\r\n}\r\n"],"names":["updateCounterNav","counter","$link","urls","length","is","addClass","attr","compare","join","find","html","removeClass","_ref","noCompareMessage","compareCounter","$compareLink","$","on","$checked","map","index","element","value","get","triggerHandler","event","item","product","currentTarget","$clickedCompareLink","checked","push","indexOf","splice","decrementCounter","showAlertModal","Compare","_PageManager","apply","arguments","prototype","onReady","_this","compareProducts","this","context","message","compareRemoveMessage","comparisons","preventDefault","PageManager"],"sourceRoot":""}